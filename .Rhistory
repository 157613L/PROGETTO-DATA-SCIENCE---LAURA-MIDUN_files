n <- 1000
means = c(0, 1, 2)
# a vector of doubles of length 0
output = double()
for (i in 1:length(means)) {
n = sample(1:100, 1)
# dynamically increase the vector (slow)
output = c(output, rnorm(n, means[i]))
}
library(readr)
install.packages(readr)
install.packages("readr")
library(readr)
View(readr)
View(readr)
library(readr)
games = read_csv("training_data.csv")
##  Elo
# INPUT
# games: a *dataframe* with matches
# zeta: logistic parameter
# k: update factor
# OUTPUT
# r: rating vector
elo_slow = function(games, z = 400, k = 25) {
# number of players
players = unique(c(games$White, games$Black))
n = max(players)
# number of games
m = nrow(games)
# old rating vector
rold = rep(0, n)
# new rating vector
rnew = rep(0, n)
for (i in 1:m) {
# White player
# compute update
score = games[[i, "Score"]]
spread = rold[games[[i, "White"]]] - rold[games[[i, "Black"]]]
mu = 1 / (1 + 10^(-spread / z))
update = k * (score - mu)
# update rating
rnew[games[[i,"White"]]] = rold[games[[i,"White"]]] + update
# Black player
# compute update
score = 1 - games[[i, "Score"]]
spread = rold[games[[i, "Black"]]] - rold[games[[i, "White"]]]
mu = 1 / (1 + 10^(-spread / z))
update = k * (score - mu)
# update rating
rnew[games[[i,"Black"]]] = rold[games[[i,"Black"]]] + update
# update old ratings
rold[games[[i,"White"]]] = rnew[games[[i,"White"]]]
rold[games[[i,"Black"]]] = rnew[games[[i,"Black"]]]
}
return(rnew)
}
?runif
library(readr)
games = read_csv("training_data.csv")
##  Elo
# INPUT
# games: a *dataframe* with matches
# zeta: logistic parameter
# k: update factor
# OUTPUT
# r: rating vector
elo_slow = function(games, z = 400, k = 25) {
# number of players
players = unique(c(games$White, games$Black))
n = max(players)
# number of games
m = nrow(games)
# old rating vector
rold = rep(0, n)
# new rating vector
rnew = rep(0, n)
for (i in 1:m) {
# White player
# compute update
score = games[[i, "Score"]]
spread = rold[games[[i, "White"]]] - rold[games[[i, "Black"]]]
mu = 1 / (1 + 10^(-spread / z))
update = k * (score - mu)
# update rating
rnew[games[[i,"White"]]] = rold[games[[i,"White"]]] + update
# Black player
# compute update
score = 1 - games[[i, "Score"]]
spread = rold[games[[i, "Black"]]] - rold[games[[i, "White"]]]
mu = 1 / (1 + 10^(-spread / z))
update = k * (score - mu)
# update rating
rnew[games[[i,"Black"]]] = rold[games[[i,"Black"]]] + update
# update old ratings
rold[games[[i,"White"]]] = rnew[games[[i,"White"]]]
rold[games[[i,"Black"]]] = rnew[games[[i,"Black"]]]
}
return(rnew)
}
?for
?rnorm
ts = c(1:25, 1:25)
ts = c(1:25; 1:25)
ts = c(1:25, 1:25, 1:25)
df <- data.frame(c(1:25), c(1:25))
View(df)
library(tidyr)
library(dplyr)
library(ggplot2)
library(purrr)
library(modelr)
library(gapminder)
library(broom)
gapminder
ggplot()
library(dplyr)
library(ggplot2)
library(readr)
library(modelr)
marineData = read.csv("./Dataset/mar_go_am_it_1_Data.csv")
library(dplyr)
library(ggplot2)
library(readr)
library(modelr)
marineData = read.csv("./Dataset/mar_go_am_it_1_Data.csv")
trainData = read.csv("./Dataset/DCSC_TRAFERR_03052022170958001.csv")
comuni = read.csv("./Dataset/Codici-statistici-e-denominazioni-al-03_03_2022.csv", fileEncoding="latin1", sep = ";") %>%           select("Denominazione..Italiana.e.straniera.", "Ripartizione.geografica", "Denominazione.Regione") %>% rename(Denominazione = "Denominazione..Italiana.e.straniera.", "Ripartizione Geografica" = "Ripartizione.geografica", "Denominazione Regione" = "Denominazione.Regione")
## adding region to port data
marineData = left_join(marineData, comuni, by = c("REP_MAR" = "Denominazione"))
rm(comuni)
data = filter(marineData, PAR_MAR == "Total" & NATVESSR == "Total" & Value != ":") %>% select(- all_of(c("PAR_MAR", "NATVESSR", "Flag.and.Footnotes")))
data = filter(data, CARGO == "Total" & DIRECT == "Total") %>% mutate(Value = parse_number(as.character(Value))) %>% select(TIME, REP_MAR, Value)
ggplot(filter(data, REP_MAR != "Italy"), aes( x = TIME, y = Value, color = REP_MAR)) + geom_point() + geom_line() + scale_x_continuous(breaks = 2011:2020) + xlab("") + ylab("Thousand of tonnes") + theme_bw() + theme(legend.position = "none")
data2 = filter(data, REP_MAR == "Italy")
# linear model
mod1 = lm(Value ~ TIME, data = data2)
#model (all information)
summary(mod1)
ggplot(data2, aes(TIME, Value)) + geom_point() + geom_line() +
geom_abline(intercept = mod1$coefficients[1],
slope = mod1$coefficients[2],
color = "red") +
scale_x_continuous(breaks = 2011:2020)
# Just testing models
data2 = add_predictions(data2, mod1)
data2 = add_residuals(data2, mod1)
ggplot(data2, aes(resid)) + geom_freqpoly() + xlab("residuals")
ggplot(data2, aes(TIME, resid)) + geom_line() + scale_x_continuous(breaks = 2011:2020) + geom_point() + xlab("") + ylab("residuals")
install.packages("readxl")
library("readxl")
library(readxl)
library(tidyverse)
install.packages(tidyverse)
install.packages("tidyverse")
install.packages("tidyverse")
mydata <- read_excel("WITS-Partner.xlsx")
library("readxl")
mydata <- read_excel("WITS-Partner.xlsx")
tab <- read.table("clipboard", header=T, sep"\t")
Italy 1999 Export-Import Partner Share <- read.table("clipboard", header=T, sep"\t")
Reporter Name	Partner Name	Year	Trade Flow	No Of exported HS6 digit Products	No Of imported HS6 digit Products	Export Share in Total Products (%)	Import Share in Total Products (%)	Trade Balance (US$ Thousand)	Export (US$ Thousand)	Import (US$ Thousand)	Import Partner Share (%)	Export Partner Share (%)
Italy	Aruba	1999	Exports & Imports	161	5	3,34	0,1	-31181,63	8687,31	39868,94	0,02	0
Italy	Afghanistan	1999	Exports & Imports	35	19	0,73	0,39	784,86	1164,72	379,87	0	0
Italy	Angola	1999	Exports & Imports	602	29	12,51	0,59	46083,76	55641,98	9558,22	0	0,02
Italy	Anguila	1999	Exports & Imports	54	3	1,12	0,06	1478,19	1493,16	14,96	0	0
Italy	Albania	1999	Exports & Imports	1960	432	40,71	8,77	141419,28	309659,16	168239,89	0,08	0,13
Italy	Andorra	1999	Exports & Imports	505	49	10,49	0,99	27530,86	29736,19	2205,33	0	0,01
Italy	Netherlands Antilles	1999	Exports & Imports	404	26	8,39	0,53	206191,12	220019,08	13827,96	0,01	0,09
Italy	United Arab Emirates	1999	Exports & Imports	2350	538	48,82	10,92	1480419,01	1609808,82	129389,81	0,06	0,69
Italy	Argentina	1999	Exports & Imports	2420	751	50,27	15,24	541460,75	1350421,24	808960,49	0,37	0,57
Italy	Armenia	1999	Exports & Imports	375	16	7,79	0,32	21328,7	22474,9	1146,2	0	0,01
Italy	Antigua and Barbuda	1999	Exports & Imports	236	6	4,9	0,12	2929,87	3037,56	107,69	0	0
Italy	Australia	1999	Exports & Imports	2686	1058	55,8	21,47	795529,18	1803862,64	1008333,47	0,46	0,77
Italy	Austria	1999	Exports & Imports	3824	3630	79,44	73,66	35183,17	5514072,78	5478889,61	2,49	2,35
Italy	Azerbaijan	1999	Exports & Imports	355	31	7,37	0,63	-112193,79	21359,54	133553,32	0,06	0,01
Italy	Burundi	1999	Exports & Imports	188	10	3,91	0,2	3692,36	3953,92	261,56	0	0
Italy	Belgium	1999	Exports & Imports	3661	3743	76,05	75,95	-3078875,76	6227917,99	9306793,75	4,23	2,65
Italy	Benin	1999	Exports & Imports	389	25	8,08	0,51	29605,27	42400,49	12795,23	0,01	0,02
Italy	Burkina Faso	1999	Exports & Imports	300	23	6,23	0,47	-8146,57	13659,28	21805,85	0,01	0,01
Italy	Bangladesh	1999	Exports & Imports	633	221	13,15	4,48	-166993,87	69279,95	236273,82	0,11	0,03
Italy	Bulgaria	1999	Exports & Imports	2200	942	45,7	19,12	-80589,6	483353,97	563943,57	0,26	0,21
Italy	Bahrain	1999	Exports & Imports	998	103	20,73	2,09	48700,05	98579,48	49879,43	0,02	0,04
Italy	Bahamas, The	1999	Exports & Imports	223	33	4,63	0,67	253664,8	264630,91	10966,11	0,01	0,11
Italy	Bosnia and Herzegovina	1999	Exports & Imports	2144	397	44,54	8,06	114372,96	294357,46	179984,51	0,08	0,13
Italy	Belarus	1999	Exports & Imports	843	263	17,51	5,34	56705,03	120742,4	64037,37	0,03	0,05
Italy	Belize	1999	Exports & Imports	32	17	0,66	0,34	-12430,7	442,1	12872,8	0,01	0
Italy	Bermuda	1999	Exports & Imports	207	9	4,3	0,18	5369,06	21703,93	16334,87	0,01	0,01
Italy	Bolivia	1999	Exports & Imports	581	77	12,07	1,56	15179,4	33196,43	18017,02	0,01	0,01
Italy	Brazil	1999	Exports & Imports	2591	1191	53,82	24,17	569995,18	2524489,66	1954494,47	0,89	1,07
Italy	Barbados	1999	Exports & Imports	185	17	3,84	0,34	3352,84	4747,82	1394,97	0	0
Italy	Brunei	1999	Exports & Imports	152	13	3,16	0,26	5410,06	5648,22	238,16	0	0
Italy	Bhutan	1999	Exports & Imports	4	1	0,08	0,02	263,55	265,95	2,4	0	0
Italy	Central African Republic	1999	Exports & Imports	122	6	2,53	0,12	-1680,1	1676,71	3356,82	0	0
Italy	Canada	1999	Exports & Imports	2596	1602	53,93	32,51	498153,84	1993959,95	1495806,11	0,68	0,85
Italy	Cocos (Keeling) Islands	1999	Exports & Imports	9	2	0,19	0,04	429,57	453,76	24,19	0	0
Italy	Switzerland	1999	Exports & Imports	3940	3281	81,84	66,58	685230,75	8069473,09	7384242,34	3,36	3,43
Italy	Chile	1999	Exports & Imports	1877	391	38,99	7,93	-319504,79	415543,92	735048,71	0,33	0,18
Italy	China	1999	Exports & Imports	2115	2760	43,93	56,01	-3383546,81	1933024,12	5316570,92	2,42	0,82
Italy	Cote d'Ivoire	1999	Exports & Imports	1174	160	24,39	3,25	-90574,26	147452,31	238026,56	0,11	0,06
Italy	Cameroon	1999	Exports & Imports	834	67	17,32	1,36	-364649,1	55090,04	419739,14	0,19	0,02
Italy	Congo, Rep.	1999	Exports & Imports	575	48	11,94	0,97	6012	49915,24	43903,25	0,02	0,02
Italy	Cook Islands	1999	Exports & Imports	5	1	0,1	0,02	24,82	30,42	5,6	0	0
Italy	Colombia	1999	Exports & Imports	1522	235	31,62	4,77	-31803,74	204157,11	235960,85	0,11	0,09
Italy	Comoros	1999	Exports & Imports	86	1	1,79	0,02	2410,06	2423,12	13,06	0	0
Italy	Cape Verde	1999	Exports & Imports	400	4	8,31	0,08	10709,03	10807,22	98,19	0	0
Italy	Costa Rica	1999	Exports & Imports	956	103	19,86	2,09	-2942,57	76981,97	79924,54	0,04	0,03
Italy	Cuba	1999	Exports & Imports	1283	131	26,65	2,66	196425,69	209693,97	13268,28	0,01	0,09
Italy	Cayman Islands	1999	Exports & Imports	99	4	2,06	0,08	20275,12	29179,65	8904,53	0	0,01
Italy	Cyprus	1999	Exports & Imports	2262	267	46,99	5,42	298687,24	326497,19	27809,94	0,01	0,14
Italy	Czech Republic	1999	Exports & Imports	2989	1863	62,09	37,8	495061,69	1404704,35	909642,66	0,41	0,6
Italy	Germany	1999	Exports & Imports	4269	4728	88,68	95,94	-3123833,14	39031960,23	42155793,38	19,16	16,61
Italy	Djibouti	1999	Exports & Imports	296	21	6,15	0,43	20619,01	22289,97	1670,96	0	0,01
Italy	Dominica	1999	Exports & Imports	67	4	1,39	0,08	1439,43	1675,23	235,8	0	0
Italy	Denmark	1999	Exports & Imports	2857	2175	59,35	44,14	186229,42	2004455,14	1818225,71	0,83	0,85
Italy	Dominican Republic	1999	Exports & Imports	1099	99	22,83	2,01	80995,65	101936,88	20941,23	0,01	0,04
Italy	Algeria	1999	Exports & Imports	1745	160	36,25	3,25	-228953,41	769252,78	998206,19	0,45	0,33
Italy	East Asia & Pacific	1999	Exports & Imports	3845	3750	79,87	76,1	-2929641,59	14524968,73	17454610,33	7,93	6,18
Italy	Europe & Central Asia	1999	Exports & Imports	4764	4909	98,96	99,61	6125509,05	166026753,2	159901244,2	72,66	70,66
Italy	Ecuador	1999	Exports & Imports	888	181	18,45	3,67	-181199,66	62085,06	243284,72	0,11	0,03
Italy	Egypt, Arab Rep.	1999	Exports & Imports	2471	764	51,33	15,5	616149,69	1575852,59	959702,9	0,44	0,67
Italy	Eritrea	1999	Exports & Imports	746	44	15,5	0,89	42318,74	44533,22	2214,47	0	0,02
Italy	Spain	1999	Exports & Imports	4131	3979	85,81	80,74	5459310,53	15055716,72	9596406,18	4,36	6,41
Italy	Estonia	1999	Exports & Imports	1265	181	26,28	3,67	62202,28	99116,57	36914,29	0,02	0,04
Italy	Ethiopia(excludes Eritrea)	1999	Exports & Imports	1012	52	21,02	1,06	75083,78	109387,42	34303,64	0,02	0,05
Italy	Finland	1999	Exports & Imports	2606	1243	54,13	25,22	-584980,88	1152302,26	1737283,14	0,79	0,49
Italy	Fiji	1999	Exports & Imports	83	17	1,72	0,34	1026,76	2148,93	1122,16	0	0
Italy	Falkland Island	1999	Exports & Imports	11	3	0,23	0,06	4852,88	4977,19	124,32	0	0
Italy	France	1999	Exports & Imports	4400	4610	91,4	93,55	3139169,29	30766278,76	27627109,47	12,55	13,09
Italy	Faeroe Islands	1999	Exports & Imports	66	5	1,37	0,1	495,56	720,4	224,84	0	0
Italy	Micronesia, Fed. Sts.	1999	Exports & Imports	13	1	0,27	0,02	-799,07	48,5	847,56	0	0
Italy	Gabon	1999	Exports & Imports	487	35	10,12	0,71	5896,16	36574,78	30678,62	0,01	0,02
Italy	United Kingdom	1999	Exports & Imports	3820	4214	79,35	85,51	3415556,76	16855137,19	13439580,43	6,11	7,17
Italy	Georgia	1999	Exports & Imports	465	56	9,66	1,14	1041,58	30268,03	29226,44	0,01	0,01
Italy	Ghana	1999	Exports & Imports	1042	112	21,65	2,27	-73414,77	116570,61	189985,38	0,09	0,05
Italy	Gibraltar	1999	Exports & Imports	112	12	2,33	0,24	92645,8	94352,04	1706,23	0	0,04
Italy	Guinea	1999	Exports & Imports	475	37	9,87	0,75	20389,83	28498,85	8109,02	0	0,01
Italy	Gambia, The	1999	Exports & Imports	109	7	2,26	0,14	6940,77	7369,57	428,8	0	0
Italy	Guinea-Bissau	1999	Exports & Imports	78	8	1,62	0,16	-3874,95	973,21	4848,16	0	0
Italy	Equatorial Guinea	1999	Exports & Imports	297	8	6,17	0,16	19553,54	20736,38	1182,85	0	0,01
Italy	Greece	1999	Exports & Imports	3881	1593	80,62	32,33	3355481,73	4890854,42	1535372,7	0,7	2,08
Italy	Grenada	1999	Exports & Imports	54	3	1,12	0,06	564,35	973,39	409,04	0	0
Italy	Greenland	1999	Exports & Imports	41	4	0,85	0,08	5088,8	5330,82	242,03	0	0
Italy	Guatemala	1999	Exports & Imports	788	106	16,37	2,15	55024,15	87770,57	32746,43	0,01	0,04
Italy	Guyana	1999	Exports & Imports	73	7	1,52	0,14	790,68	3181,76	2391,09	0	0
Italy	Hong Kong, China	1999	Exports & Imports	2739	1292	56,9	26,22	2388549,96	2707966,99	319417,03	0,15	1,15
Italy	Honduras	1999	Exports & Imports	413	40	8,58	0,81	2258,16	26496,4	24238,24	0,01	0,01
Italy	Croatia	1999	Exports & Imports	3329	1158	69,15	23,5	565862	1278947,89	713085,89	0,32	0,54
Italy	Haiti	1999	Exports & Imports	113	16	2,35	0,32	2695,64	6245,97	3550,33	0	0
Italy	Hungary	1999	Exports & Imports	3113	1755	64,67	35,61	438352,09	1940518,89	1502166,8	0,68	0,83
Italy	Indonesia	1999	Exports & Imports	1337	988	27,77	20,05	-608916,87	263635,1	872551,97	0,4	0,11
Italy	India	1999	Exports & Imports	1972	1754	40,96	35,59	-504572,82	792852,74	1297425,56	0,59	0,34
Italy	British Indian Ocean Ter.	1999	Exports & Imports	1	2	0,02	0,04	-259,49	216,76	476,25	0	0
Italy	Ireland	1999	Exports & Imports	2308	1257	47,94	25,51	-1956604,26	1158283,45	3114887,71	1,42	0,49
Italy	Iran, Islamic Rep.	1999	Exports & Imports	1272	286	26,42	5,8	-813279,48	707744,32	1521023,8	0,69	0,3
Italy	Iraq	1999	Exports & Imports	181	11	3,76	0,22	-730540,02	72187,04	802727,06	0,36	0,03
Italy	Iceland	1999	Exports & Imports	1051	96	21,83	1,95	50109,94	60146,08	10036,14	0	0,03
Italy	Israel	1999	Exports & Imports	2862	1261	59,45	25,59	873070,95	1591204,87	718133,91	0,33	0,68
Italy	Jamaica	1999	Exports & Imports	213	32	4,42	0,65	4552,24	15287,62	10735,39	0	0,01
Italy	Jordan	1999	Exports & Imports	1574	165	32,7	3,35	163894,04	184213,17	20319,13	0,01	0,08
Italy	Japan	1999	Exports & Imports	2780	2551	57,75	51,77	-1782018,57	3700952,19	5482970,76	2,49	1,58
Italy	Kazakhstan	1999	Exports & Imports	818	63	16,99	1,28	-117664,83	398331,11	515995,94	0,23	0,17
Italy	Kenya	1999	Exports & Imports	1014	153	21,06	3,1	27088,07	68348,14	41260,08	0,02	0,03
Italy	Kyrgyz Republic	1999	Exports & Imports	157	11	3,26	0,22	6148,78	8358,63	2209,85	0	0
Italy	Cambodia	1999	Exports & Imports	74	44	1,54	0,89	-2632,76	6034,36	8667,12	0	0
Italy	Kiribati	1999	Exports & Imports	1	3	0,02	0,06	-5,27	0,94	6,21	0	0
Italy	St. Kitts and Nevis	1999	Exports & Imports	8	2	0,17	0,04	-51,77	47,52	99,3	0	0
Italy	Korea, Rep.	1999	Exports & Imports	2341	1605	48,63	32,57	-622089,78	1244937,35	1867027,14	0,85	0,53
Italy	Kuwait	1999	Exports & Imports	1536	133	31,91	2,7	282944,53	334374,22	51429,69	0,02	0,14
Italy	Lao PDR	1999	Exports & Imports	55	41	1,14	0,83	-5693,79	790,91	6484,7	0	0
Italy	Lebanon	1999	Exports & Imports	2277	235	47,3	4,77	651640,48	667626,53	15986,05	0,01	0,28
Italy	Liberia	1999	Exports & Imports	64	17	1,33	0,34	-26151,91	33411,26	59563,18	0,03	0,01
Italy	Libya	1999	Exports & Imports	1575	125	32,72	2,54	-2377074,18	916810,83	3293885,01	1,5	0,39
Italy	St. Lucia	1999	Exports & Imports	101	3	2,1	0,06	1825,39	1842,3	16,91	0	0
Italy	Latin America & Caribbean	1999	Exports & Imports	3622	2243	75,24	45,52	3697141,2	8769333,18	5072191,98	2,31	3,73
Italy	Sri Lanka	1999	Exports & Imports	845	322	17,55	6,53	5425,59	72391,07	66965,47	0,03	0,03
Italy	Lithuania	1999	Exports & Imports	1444	312	30	6,33	89514,06	173303,04	83788,98	0,04	0,07
Italy	Luxembourg	1999	Exports & Imports	1768	916	36,73	18,59	-320439,41	310404,14	630843,55	0,29	0,13
Italy	Latvia	1999	Exports & Imports	1392	203	28,92	4,12	80643,16	123671,07	43027,92	0,02	0,05
Italy	Macao	1999	Exports & Imports	255	110	5,3	2,23	-4483,84	13190,8	17674,64	0,01	0,01
Italy	Morocco	1999	Exports & Imports	2288	653	47,53	13,25	234958,38	629383,68	394425,31	0,18	0,27
Italy	Moldova	1999	Exports & Imports	859	223	17,84	4,53	12812,08	49896,42	37084,33	0,02	0,02
Italy	Madagascar	1999	Exports & Imports	575	131	11,94	2,66	-25626,83	17700,05	43326,88	0,02	0,01
Italy	Maldives	1999	Exports & Imports	294	9	6,11	0,18	6186,11	6293,82	107,71	0	0
Italy	Middle East & North Africa	1999	Exports & Imports	4049	2543	84,11	51,6	1608004,4	13604246,28	11996241,88	5,45	5,79
Italy	Mexico	1999	Exports & Imports	2129	899	44,23	18,24	1102464,17	1320550,27	218086,1	0,1	0,56
Italy	North Macedonia	1999	Exports & Imports	1483	240	30,81	4,87	21434,79	189466,33	168031,54	0,08	0,08
Italy	Mali	1999	Exports & Imports	296	26	6,15	0,53	-14206,19	16695,62	30901,81	0,01	0,01
Italy	Malta	1999	Exports & Imports	2569	447	53,37	9,07	549223,27	658264,64	109041,37	0,05	0,28
Italy	Myanmar	1999	Exports & Imports	115	55	2,39	1,12	3813,19	20682,29	16869,1	0,01	0,01
Italy	Mongolia	1999	Exports & Imports	132	21	2,74	0,43	-11981,03	3867,88	15848,91	0,01	0
Italy	Northern Mariana Islands	1999	Exports & Imports	7	5	0,15	0,1	644,35	723,45	79,09	0	0
Italy	Mozambique	1999	Exports & Imports	275	28	5,71	0,57	13849,09	23879,02	10029,92	0	0,01
Italy	Mauritania	1999	Exports & Imports	175	21	3,64	0,43	-56136,3	14570,92	70707,22	0,03	0,01
Italy	Montserrat	1999	Exports & Imports	19	5	0,39	0,1	1492,94	1625,3	132,36	0	0
Italy	Mauritius	1999	Exports & Imports	1026	149	21,31	3,02	14831,89	67265,64	52433,75	0,02	0,03
Italy	Malawi	1999	Exports & Imports	213	24	4,42	0,49	-2204,89	5922,3	8127,18	0	0
Italy	Malaysia	1999	Exports & Imports	1599	794	33,22	16,11	3229,66	616479,61	613249,95	0,28	0,26
Italy	North America	1999	Exports & Imports	3662	3721	76,07	75,51	11713590,18	23791404,93	12077814,75	5,49	10,13
Italy	New Caledonia	1999	Exports & Imports	491	8	10,2	0,16	-2839,86	16288,73	19128,59	0,01	0,01
Italy	Niger	1999	Exports & Imports	143	15	2,97	0,3	8572,06	8721,98	149,92	0	0
Italy	Nigeria	1999	Exports & Imports	1452	171	30,16	3,47	86774,02	330712,93	243938,91	0,11	0,14
Italy	Nicaragua	1999	Exports & Imports	245	29	5,09	0,59	3776,09	9096,49	5320,4	0	0
Italy	Netherlands	1999	Exports & Imports	3483	3936	72,35	79,87	-6831318,6	6772154,49	13603473,09	6,18	2,88
Italy	Norway	1999	Exports & Imports	2359	1046	49	21,23	364198,3	1069740,09	705541,8	0,32	0,46
Italy	Nepal	1999	Exports & Imports	202	172	4,2	3,49	1860,59	6765,22	4904,63	0	0
Italy	Nauru	1999	Exports & Imports	1	1	0,02	0,02	-5,84	1,69	7,52	0	0
Italy	New Zealand	1999	Exports & Imports	1721	377	35,75	7,65	21994,25	226263,66	204269,42	0,09	0,1
Italy	Other Asia, nes	1999	Exports & Imports	2317	1844	48,13	37,42	-462487,38	1113822,27	1576309,65	0,72	0,47
Italy	Oman	1999	Exports & Imports	845	54	17,55	1,1	161197,07	162691,99	1494,92	0	0,07
Italy	Pakistan	1999	Exports & Imports	1203	482	24,99	9,78	47212,36	261814,64	214602,28	0,1	0,11
Italy	Panama	1999	Exports & Imports	781	57	16,22	1,16	715815,38	774497,35	58681,97	0,03	0,33
Italy	Pitcairn	1999	Exports & Imports	5	10	0,1	0,2	-628,23	170,99	799,22	0	0
Italy	Peru	1999	Exports & Imports	1269	349	26,36	7,08	-54379,52	107667,68	162047,2	0,07	0,05
Italy	Philippines	1999	Exports & Imports	1343	547	27,9	11,1	99892,48	244808,2	144915,72	0,07	0,1
Italy	Papua New Guinea	1999	Exports & Imports	56	18	1,16	0,37	-41399,92	1351,09	42751,01	0,02	0
Italy	Poland	1999	Exports & Imports	3209	1792	66,66	36,36	1886041,17	3654709,99	1768668,82	0,8	1,56
Italy	Korea, Dem. Rep.	1999	Exports & Imports	140	102	2,91	2,07	12954,56	15200,47	2245,91	0	0,01
Italy	Portugal	1999	Exports & Imports	3430	1708	71,25	34,66	2504218,14	3543834,46	1039616,32	0,47	1,51
Italy	Paraguay	1999	Exports & Imports	518	55	10,76	1,12	28634,3	59327,77	30693,47	0,01	0,03
Italy	French Polynesia	1999	Exports & Imports	441	15	9,16	0,3	14465,24	19071,49	4606,25	0	0,01
Italy	Qatar	1999	Exports & Imports	1050	81	21,81	1,64	82976,44	86955,72	3979,28	0	0,04
Italy	Romania	1999	Exports & Imports	3003	1622	62,38	32,91	-29166,38	2034982,17	2064148,54	0,94	0,87
Italy	Russian Federation	1999	Exports & Imports	2565	881	53,28	17,88	-1208861,3	1827535,7	3036397	1,38	0,78
Italy	Rwanda	1999	Exports & Imports	195	13	4,05	0,26	2315,1	5451,55	3136,45	0	0
Italy	South Asia	1999	Exports & Imports	2400	1944	49,85	39,45	-609833,63	1210828,12	1820661,75	0,83	0,52
Italy	Saudi Arabia	1999	Exports & Imports	2280	362	47,36	7,35	252069,95	1419482,3	1167412,34	0,53	0,6
Italy	Fm Sudan	1999	Exports & Imports	514	43	10,68	0,87	-3702,99	54059,8	57762,79	0,03	0,02
Italy	Senegal	1999	Exports & Imports	1146	110	23,81	2,23	-20571,74	107677,89	128249,63	0,06	0,05
Italy	Serbia, FR(Serbia/Montenegro)	1999	Exports & Imports	2350	593	48,82	12,03	174996,04	364791,48	189795,45	0,09	0,16
Italy	Singapore	1999	Exports & Imports	2233	840	46,39	17,05	811048,36	1209423,83	398375,46	0,18	0,51
Italy	Saint Helena	1999	Exports & Imports	2	3	0,04	0,06	3939,15	4044,7	105,54	0	0
Italy	Solomon Islands	1999	Exports & Imports	7	4	0,15	0,08	-37,66	73,15	110,8	0	0
Italy	Sierra Leone	1999	Exports & Imports	116	6	2,41	0,12	2463,3	2554,21	90,91	0	0
Italy	El Salvador	1999	Exports & Imports	525	52	10,91	1,06	31246,69	36279,37	5032,68	0	0,02
Italy	Somalia	1999	Exports & Imports	103	15	2,14	0,3	4832,8	5228,28	395,49	0	0
Italy	Special Categories	1999	Exports & Imports	65	7	1,35	0,14	7617,23	7706,1	88,88	0	0
Italy	Saint Pierre and Miquelon	1999	Exports & Imports	22	4	0,46	0,08	190,91	400,43	209,52	0	0
Italy	Sub-Saharan Africa	1999	Exports & Imports	3265	1406	67,82	28,53	-1827656,46	2536125,97	4363782,43	1,98	1,08
Italy	Sao Tome and Principe	1999	Exports & Imports	31	1	0,64	0,02	-489,78	399,03	888,81	0	0
Italy	Suriname	1999	Exports & Imports	100	3	2,08	0,06	2645,68	2737,75	92,07	0	0
Italy	Slovak Republic	1999	Exports & Imports	2188	1061	45,45	21,53	-292432,61	678420,68	970853,29	0,44	0,29
Italy	Slovenia	1999	Exports & Imports	3629	1829	75,38	37,11	601061,39	1758335,11	1157273,72	0,53	0,75
Italy	Sweden	1999	Exports & Imports	2895	2241	60,14	45,47	-871133,55	2546722,43	3417855,98	1,55	1,08
Italy	Seychelles	1999	Exports & Imports	393	33	8,16	0,67	-1313,42	22933,99	24247,41	0,01	0,01
Italy	Syrian Arab Republic	1999	Exports & Imports	1491	194	30,97	3,94	-133809,51	360287,73	494097,24	0,22	0,15
Italy	Chad	1999	Exports & Imports	112	1	2,33	0,02	2530,69	3410,04	879,34	0	0
Italy	Togo	1999	Exports & Imports	349	26	7,25	0,53	12984,72	21728,57	8743,85	0	0,01
Italy	Thailand	1999	Exports & Imports	1866	1153	38,76	23,4	-456982,38	355728,45	812710,82	0,37	0,15
Italy	Tajikistan	1999	Exports & Imports	105	25	2,18	0,51	-7787,94	7875,67	15663,61	0,01	0
Italy	Turkmenistan	1999	Exports & Imports	267	21	5,55	0,43	-150458,73	11143,38	161602,12	0,07	0
Italy	Tonga	1999	Exports & Imports	7	14	0,15	0,28	-1671,63	20,28	1691,91	0	0
Italy	Trinidad and Tobago	1999	Exports & Imports	326	42	6,77	0,85	8982,39	22899,79	13917,4	0,01	0,01
Italy	Tunisia	1999	Exports & Imports	2724	1025	56,59	20,8	332914,61	1591783,76	1258869,15	0,57	0,68
Italy	Turkey	1999	Exports & Imports	3212	1775	66,72	36,02	1034637,24	2947661,04	1913023,79	0,87	1,25
Italy	Tuvalu	1999	Exports & Imports	3	25	0,06	0,51	-949,18	5,62	954,8	0	0
Italy	Tanzania	1999	Exports & Imports	695	72	14,44	1,46	27813,98	35494,73	7680,76	0	0,02
Italy	Uganda	1999	Exports & Imports	430	22	8,93	0,45	-12267,2	14465,22	26732,42	0,01	0,01
Italy	Ukraine	1999	Exports & Imports	1657	505	34,42	10,25	-335969,54	353369,86	689339,41	0,31	0,15
Italy	Unspecified	1999	Exports & Imports	1934	2618	40,17	53,13	-3836333,32	1898196,05	5734529,37	2,61	0,81
Italy	Uruguay	1999	Exports & Imports	1357	184	28,19	3,73	113393,14	188555,66	75162,52	0,03	0,08
Italy	United States	1999	Exports & Imports	3574	3630	74,24	73,66	11210067,28	21775741,04	10565673,77	4,8	9,27
Italy	Us Msc.Pac.I	1999	Exports & Imports	178	4	3,7	0,08	31302,14	31451,31	149,17	0	0,01
Italy	Uzbekistan	1999	Exports & Imports	553	42	11,49	0,85	-102305,43	47660,06	149965,49	0,07	0,02
Italy	St. Vincent and the Grenadines	1999	Exports & Imports	180	4	3,74	0,08	7509,96	8071,57	561,61	0	0
Italy	Venezuela	1999	Exports & Imports	2094	331	43,5	6,72	562496,89	806655,6	244158,7	0,11	0,34
Italy	British Virgin Islands	1999	Exports & Imports	94	5	1,95	0,1	26236,39	67174,37	40937,97	0,02	0,03
Italy	Vietnam	1999	Exports & Imports	816	381	16,95	7,73	-162231,94	112230,23	274462,17	0,12	0,05
Italy	Vanuatu	1999	Exports & Imports	51	3	1,06	0,06	-215,72	199,85	415,57	0	0
Italy	 World	1999	Exports & Imports	4814	4928	100	100	14906854,47	234962950,6	220056096,2	100	100
Italy	Wallis and Futura Isl.	1999	Exports & Imports	11	1	0,23	0,02	156,39	256,57	100,18	0	0
Italy	Samoa	1999	Exports & Imports	4	2	0,08	0,04	61,03	74,03	13	0	0
Italy	Yemen	1999	Exports & Imports	629	35	13,07	0,71	140883,5	145451,85	4568,35	0	0,06
Italy	South Africa	1999	Exports & Imports	2376	860	49,36	17,45	-1494534,69	886592,8	2381127,49	1,08	0,38
Italy	Congo, Dem. Rep.	1999	Exports & Imports	227	12	4,72	0,24	-28620,26	8833,39	37453,64	0,02	0
Italy	Zambia	1999	Exports & Imports	184	26	3,82	0,53	-9057,62	6090,99	15148,61	0,01	0
Italy	Zimbabwe	1999	Exports & Imports	515	96	10,7	1,95	-63183,91	26313,23	89497,15	0,04	0,01
library(WITS-Partner)
library(Partner)
view(Partner)
View(Partner)
data_xlsx <- read_excel("Italy 1999 Export-Import Partner Share.xlsx")
library(readxl)
data_xlsx <- read_excel("Italy 1999 Export-Import Partner Share.csv")
library(readxl)
dataset <- read_excel(NULL)
View(dataset)
source("~/.active-rstudio-document")
library("readxl")
# importare il file
read.csv("Italy 1999 Export-Import Partner Share.csv", sep = ";")
library("readxl")
# importare il file
read.csv("user/Laura/RELAZIONE DATA SCIENCE/INTERNATIONALE TRADE/Italy 1999 Export-Import Partner Share.csv", sep = ";")
source("~/.active-rstudio-document")
library(Import ($ thousand) 1994-2019)
c('1994':'2019'),
c('1994':'2019')
library(tidyr)
library(Import ($ thousand) 1994-2019)
#pivot_longer() --> PERMETTE DI CONVERTIRE LE COLONNE IN RIGHE
pivot_longer( c('1994':'2019'),
names_to = "year",
values_to = "Import (US$ thousand)"
)
install.packages("tidyr")
library(tidyr)
library(Import ($ thousand) 1994-2019)
#pivot_longer() --> PERMETTE DI CONVERTIRE LE COLONNE IN RIGHE
pivot_longer( c('1994':'2019'),
names_to = "year",
values_to = "Import (US$ thousand)"
)
?pivot_longer()
library(tidyr)
library(Import ($ thousand) 1994-2019)
gather( '1994':'2019', key = "years", value = "Import (US$ thousand)")
View(flights)
View(flights)
ggplot(gapminder, aes(year, lifeExp, color = country)) +
geom_line(alpha = 1/2, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
theme_classic()
library(tidyr)
library(dplyr)
library(ggplot2)
library(purrr)
library(modelr)
library(gapminder)
library(broom)
# or
ggplot(gapminder, aes(year, lifeExp, color = country)) +
geom_line(alpha = 1/2, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
theme_classic()
library(tidyr)
library(dplyr)
library(ggplot2)
library(purrr)
library(modelr)
library(gapminder)
library(broom)
# or
ggplot(gapminder, aes(year, lifeExp, color = country)) +
geom_line(alpha = 1/2, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
theme_classic()
version()
update.packages(tidyr)
update.packages(dplyr)
update.packages(ggplot2)
update.packages("tidyr")
update.packages("dplyr")
update.packages("ggplot2")
update.packages("tidyr")
version("dplyr")
version(dplyr)
pivot_longer( c('1994':'2019'),
names_to = "year",
values_to = "Import_(US$ thousand)"
)
library(tidyr)
pivot_longer( c('1994':'2019'),
names_to = "year",
values_to = "Import_(US$ thousand)"
)
tidyr::pivot_longer( c('1994':'2019'),
names_to = "year",
values_to = "Import_(US$ thousand)"
)
install.packages("tibble")
install.packages("installr")
library("installr")
updateR()
q()
library(tidyr)
library(dplyr)
library(import)
# colonne da considerare --> reporter name, partner name, product group, 1994-2019
import >%>
pivot_longer( import,
c('X1994':'X2019'),
names_to = "Year",
values_to = "Import.(US$.Thousand)"
)
# select() --> seleziona le colonne
import %>%
select(Reporter.Name, Partner.Name, Product.Group, Year, Import.(US$.Thousand)
library(import_partner_share)
pivot_longer( import_partner_share,
c('X1994':'X2019'),
names_to = "Year",
values_to = "Import.Partner.Share.(%)"
)
import_partner_share %>%
select(Reporter.Name, Partner.Name, Year, Import.Partner.Share.(%))
read.csv("../Import partner share (%) 1994-2019.csv", sep = ";")
setwd("C:/Users/laura/Desktop/SCIENZE DEI DATI/RELAZIONE DATA SCIENCE/INTERNATIONAL TRADE/PROGETTO-DATA-SCIENCE---LAURA-MIDUN_files/")
read.csv("../Import partner share (%) 1994-2019.csv", sep = ";")
library(tidyr)
library(dplyr)
library(import)
# colonne da considerare --> reporter name, partner name, product group, 1994-2019
import >%>
pivot_longer( import,
c('X1994':'X2019'),
names_to = "Year",
values_to = "Import.(US$.Thousand)"
)
# select() --> seleziona le colonne
import %>%
select(Reporter.Name, Partner.Name, Product.Group, Year, Import.(US$.Thousand)
